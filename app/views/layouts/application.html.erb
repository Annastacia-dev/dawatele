<!DOCTYPE html>
<html>
  <head>
    <title>dawatele</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= favicon_link_tag 'favicon.ico' %>
    <%= stylesheet_link_tag "tailwind", "inter-font", "data-turbo-track": "reload" %>
    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
    <script src="https://kit.fontawesome.com/bfa19ffe9b.js" crossorigin="anonymous"></script>
  </head>

  <body>
    <% if current_user&.admin? %>
      <%= render("layouts/navbar/admin_sidebar") %>
    <% else %>
      <%= render("layouts/navbar") %>
    <% end %>
    <main class="relative <%= current_user&.admin? ? 'sm:pl-56 sm:pt-10' : '' %> p-5">
      <% unless flash.empty? %>
        <div id="flash" class="text-white sm:pl-20 absolute top-0 right-0 z-50 w-[50%]">
          <% flash.keys.each do |k| %>
            <div class="sm:px-20 px-8 py-9 flex justify-center items-center gap-4 border-l-8 text-sm
            <% if k == 'alert' %>
              border-red-500 bg-red-50 text-red-500
            <% elsif k == 'notice' %>
              border-blue-500 bg-blue-50 text-blue-500
            <% elsif k == 'success' %>
              border-green-500 bg-green-50 text-green-500
            <% elsif k == 'error' %>
              border-red-500 bg-red-50 text-red-500
            <% elsif k == 'warning' %>
              border-yellow-500 bg-yellow-50 text-yellow-500
            <% elsif k == 'info' %>
              border-blue-500 bg-blue-50 text-blue-500
            <% else %>
              border-gray-500 bg-gray-50 text-gray-500
            <% end %>
            ">
              <%= flash[k] %>
              <div class="cursor-pointer" onclick="document.getElementById('flash').classList.add('hidden')">
                <i class="fa-solid fa-times"></i>
              </div>
            </div>
          <% end %>
        </div>
      <% end %>
      <%= yield %>
    </main>
  </body>
</html>
